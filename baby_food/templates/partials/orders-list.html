{% load placeholders %}
{% load static %}

<div class="container padding-bottom-3x mb-1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Alert-->
    {#    <div class="alert alert-info alert-dismissible fade show text-center" style="margin-bottom: 30px;"><span#}
    {#            class="alert-close" data-dismiss="alert">Shopping Cart</span>#}
    {#    </div>#}
    <!-- Shopping Cart-->
    <div class="table-responsive shopping-cart" style="margin-top: 32px; right: 5px; max-height: 400px;">
        <table class="table" style="">
            <p class="last-order-info">
                Your last Order number is <strong>{{ order.id }}</strong>
                {% if order.paid %}
                    with Payment reference number
                    <strong>{{ order.payments.payment_number }}</strong>
                {% endif %}
            </p>
            <thead style="">

            <tr>
                <th style="color: #0f8e74; width: 80px; font-size: 18px;">Orders</th>
                {#                <th><img src="{% static 'public/playground_assets/shopping-stroller.png' %}" style="width: 50px; height: 30px"></th>#}
                <th class="text-center">No.</th>
                {#                <th class="text-center" style="">Menu</th>#}
                {#                <th class="text-center" style="">Age Range</th>#}
                <th class="text-center">Created</th>
                <th class="text-center">Location</th>
                {#                <th class="text-center">Children</th>#}
                {#                <th class="text-center">Quantity</th>#}
                {#                <th class="text-center">Price</th>#}
                <th class="text-center">Total amount</th>
                <th class="text-center">Paid</th>
                <th class="text-center">Details / Pay / Remove</th>
                {#                <th class="text-center"><a class="btn btn-sm btn-outline-danger" href="#">Clear</a></th>#}
            </tr>
            </thead>
            <tbody style="">
            {#                        Total Length :: {{request.session.cart|length}}#}

            {#Cart Detail::#}
            {% for order in orders %}

                <tr>
                    <td>
                        <div class="product-item">
                            <a class="product-thumb" href="#"><img
                                    src="{% static 'public/playground_assets/baby_food_bowls.jpg' %}"
                                    alt="Product" style="width: 80px; height: 40px; border-radius: 5px"></a>
                            <div class="product-info">

                                <h4 class="product-title">

                    <td class="text-center text-lg text-medium text-new-font" style="width: 10%;">
                        {{ order.pk }}.
                    </td>

                    <td class="text-center text-lg text-medium">
                        <select class="form-control" style="font-size: 14px; width: 110px">
                            <option type="text">{{ order.created_at }}</option>
                            {#                            <option>01.01.2023</option>#}
                            {#                            <option>02.01.2023</option>#}
                        </select>

                    </td>
                    <td class="text-center text-lg text-medium">
                        <select class="form-control" style="font-size: 14px; ">
                            <option type="text">{{ order.address }}</option>
                            {#                            <option>Address 1</option>#}
                            {#                            <option>Address 2</option>#}
                        </select>

                    </td>
                    </h4>
                    {#                    <td class="text-center text-lg text-medium">#}
                    {#                        <select class="form-control" style="font-size: 14px; width: 100px;  height:60px; padding: 3px" multiple>#}
                    {#                            {% for child_id in request.user.number_of_children|times %}#}
                    {##}
                    {#                                {% endfor %}#}
                    {#                            {% if value.kids %}#}
                    {#                                {% for key, value in value.kids.items %}#}
                    {#                                    <option>{{ key }}-{{ value }}</option>#}
                    {#                                {% endfor %}#}
                    {#                            {% else %}#}
                    {#                                <option>Add Child To Your Profile</option>#}
                    {#                            {% endif %}#}
                    {#                        </select>#}
                    {#                    </td>#}


                    </td>
                    {#                    <td class="text-center">#}
                    {#                        <div class="count-input">#}
                    {#                            <select class="form-control" style="font-size: 14px; width: 40px">#}
                    {#                                <option>{{ value.quantity }}</option>#}
                    {#                                <option>0</option>#}
                    {#                                <option>2</option>#}
                    {#                            </select>#}
                    {#                        </div>#}
                    {#                    </td>#}
                    {#                    <td class="text-center text-lg text-medium">3.50</td>#}
                    {#                    <td class="text-center text-lg text-medium">{{ value.price|floatformat:2  }}</td>#}
                    <td class="text-center text-lg text-medium text-new-font">{{ order.order_amount|floatformat:2 }}</td>
                    <td class="text-center text-lg text-medium text-new-font">{{ order.paid }}</td>
                    {#                    <td class="text-center"><a class="" href="{% url 'order details' pk=order.pk %}"#}
                    {#                                               data-toggle="tooltip" title=""#}
                    {#                                               data-original-title="Remove item">#}
                    {#                                            <i class="fa fa-trash fa-solid fa-rectangle-list">#}
                    {#                        <i class="fa-solid fa-rectangle-list" style="color: #17aeae;"></i></a></td>#}

{#                    <td class="text-center text-lg text-medium text-new-font">#}
                    <td class="text-center text-lg text-medium text-new-font" style="display: flex; justify-content: space-around">
                        <a href="{% url 'order details' pk=order.pk %}"><i class="fa-solid fa-rectangle-list"
                                                                           style="color: rgba(10,202,106,0.86);"></i></a>
                        {% if not order.paid %}
                            <a href="{% url 'pay order' order_pk=order.pk %}"><i class="fa-brands fa-cc-amazon-pay"
                                                                                 style="color: #0982c3;"></i></a>
                            <a href="{% url 'pay order' order_pk=order.pk %}"><i class="fa-solid fa-trash-can"
                                                                                 style="color: #b70968;"></i></a>
                        {% endif %}

                    </td>

                </tr>
            {% endfor %}
            {#Second item#}

            {#Third item#}


            </tbody>
        </table>
    </div>
    <div class="shopping-cart-footer"
         style="text-align: right; margin-right: 10px; margin-bottom: 10px; margin-top: 25px">
        {#        <div class="column text-lg">Subtotal BGN: <span class="text-medium"#}
        {#                                                        style="color: mediumvioletred"><b>{{ cart.get_total_price|floatformat:2 }}</b></span>#}
        {#        </div>#}
    </div>
    <div class="shopping-cart-footer" style="text-align: right; margin-right: 10px;">
        {#        {% if request.session.cart.items %}#}
        {#            <div class="column">#}
        {#            <a class="btn btn-primary" style="background-color: lightseagreen;" href="#" data-toast=""#}
        {#                               data-toast-type="success"#}
        {#                               data-toast-position="topRight" data-toast-icon="icon-circle-check"#}
        {#                               data-toast-title="Your cart" data-toast-message="is updated successfully!">Update#}
        {#            Cart</a>#}


        {#            <a class="btn btn-success" style="background-color: darkcyan;" href="{% url 'create order' %}">Checkout</a></div>#}

        {#            <input type="submit" class="btn btn-success" style="background-color: darkcyan;" value="Checkout" ></div>#}

        {#                <a class="btn btn-success" style="background-color: darkcyan;"#}
        {#                   href="{% url 'create order' %}">Checkout</a></div>#}
        {#        {% else %}#}
        <div class="column">
            <a class="btn btn-primary" style="background-color: lightseagreen" href="{% url 'menus home' %}"
               data-toast=""
               data-toast-type="success"
               data-toast-position="topRight" data-toast-icon="icon-circle-check"
               data-toast-title="Your cart" data-toast-message="is empty!">Get Menus To Your Card</a>
            {#        {% endif %}#}
        </div>
    </div>

